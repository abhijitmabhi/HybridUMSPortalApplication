<ion-header>
  <ion-toolbar color="aiubthemecolor">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Courses and Results
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <mat-list>
    <mat-list-item class="list_padding">
      <mat-select class="align-right">
        <mat-option *ngFor="let semester of semesters" [value]="semester.value">
          {{semester.viewValue}}
        </mat-option>
      </mat-select>
    </mat-list-item>
    <mat-divider></mat-divider>
    <mat-list-item class="list_padding">
      <mat-select class="align-right">
        <mat-option *ngFor="let course of courses" [value]="course.value">
          {{course.viewValue}}
        </mat-option>
      </mat-select>
    </mat-list-item>
  </mat-list> -->

  <ion-item style="width: 100%; padding: 10px;">
    <ion-select width="100%" placeholder="Select Semester" [(ngModel)]='nrSelect' (ionChange)="onChangeSemester()">
      <ion-select-option style="width: 100%;" *ngFor="let semester of semesterList" [value]="semester.ID">
        {{semester?.Title}}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item style="width: 100%; padding: 10px;">
    <ion-select width="100%" placeholder="Select Course" [(ngModel)]='nrSelect1' (ionChange)="onChangeCourse()">
      <ion-select-option style="width: 100%;" *ngFor="let course of courseList" [value]="course.Section.ID">
        {{course?.Section?.Description}}</ion-select-option>
    </ion-select>
  </ion-item>

  <mat-list style="background-color:rgb(33, 73, 194); margin:5px;">
    <mat-list-item style="color: white; font-size: 14px; height: auto; padding-left:1%; padding-top: 2%;">
      <b>{{ courseName }}</b>
    </mat-list-item>
    <mat-list-item style="color: white; font-size: 13px; height: auto; padding-left:1%;">Total Mark 100; Passing Mark:50;
      Contributes:100%</mat-list-item>
    <mat-list-item style="color: white; font-size: 14px; height: auto; padding-left:1%; padding-bottom: 3%; ">
      <b>{{ finalGradeText }}</b>
    </mat-list-item>
  </mat-list>

  <mat-expansion-panel [expanded]="true">
    <mat-expansion-panel-header style="background-color:rgb(51, 100, 247); color: white; margin-left:5px; margin-right: 5px;">
      <div class="term-head1">{{ midtermResult?.Title }} (Total: {{ midtermResult?.ExamCourse?.TotalMark  }}; Pass:{{ midtermResult?.ExamCourse?.PassMark  }}; Contributes:{{ midtermResult?.ExamCourse?.Percent  }}%)</div>
      <div class="term-head2">{{ midtermResult?.ExamCourseResult?.ResultantGrade?.Grade }}( {{ midtermResult?.ExamCourseResult?.TotalMark - midtermResult?.ExamCourseResult?.Bonus }}<span [hidden]="midtermResult.ExamCourseResult?.Bonus == 0">/{{ midtermResult?.ExamCourseResult?.Bonus }}</span>  )</div>
    </mat-expansion-panel-header>
    <mat-list *ngFor="let midResult of midtermResult?.Components">
      <mat-list-item>
        <div class="left-desc">{{ midResult?.CourseComponent?.Title }}</div>
        <div class="right-desc">{{ midResult?.Result?.Mark }}</div>

        <mat-list-item *ngFor="let element of midResult?.Elements">
          <div class="left-desc">{{ element?.Element?.Title }}</div>
          <div class="right-desc">{{ element?.Result?.Mark }}</div>
        </mat-list-item>

      </mat-list-item>
    </mat-list>
  </mat-expansion-panel>

  <mat-expansion-panel [expanded]="true">
    <mat-expansion-panel-header style="background-color:rgb(51, 100, 247); color: white; margin: 5px;">
        <div class="term-head1">{{ finaltermResult?.Title }} (Total: {{ finaltermResult?.ExamCourse?.TotalMark  }}; Pass:{{ finaltermResult?.ExamCourse?.PassMark  }}; Contributes:{{ finaltermResult?.ExamCourse?.Percent  }}%)</div>
        <div class="term-head2">{{ finaltermResult?.ExamCourseResult?.ResultantGrade?.Grade }}( {{ finaltermResult?.ExamCourseResult?.TotalMark - finaltermResult?.ExamCourseResult?.Bonus }}<span [hidden]="finaltermResult.ExamCourseResult?.Bonus == 0">/{{ finaltermResult?.ExamCourseResult?.Bonus }}</span>  )</div>
    </mat-expansion-panel-header>
    <mat-list *ngFor="let finalResult of finaltermResult?.Components">
        <mat-list-item>
          <div class="left-desc">{{ finalResult?.CourseComponent?.Title }}</div>
          <div class="right-desc">{{ finalResult?.Result?.TotalMark }}</div>
  
          <mat-list-item *ngFor="let element of finalResult?.Elements">
            <div class="left-desc">{{ element?.Element?.Title }}</div>
            <div class="right-desc">{{ element?.Result?.TotalMark }}</div>
          </mat-list-item>
  
        </mat-list-item>
      </mat-list>
  </mat-expansion-panel>
</ion-content>